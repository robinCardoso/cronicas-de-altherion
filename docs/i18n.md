# ğŸŒ Sistema de InternacionalizaÃ§Ã£o (i18n)

## ğŸ“‹ VisÃ£o Geral

O "CrÃ´nicas de Altherion" implementa um sistema completo de mÃºltiplas linguagens usando **Context API** e **arquivos JSON** para traduÃ§Ãµes.

## ğŸš€ Linguagens Suportadas

- **ğŸ‡§ğŸ‡· PortuguÃªs (pt)** - Idioma padrÃ£o
- **ğŸ‡ºğŸ‡¸ English (en)** - InglÃªs
- **ğŸ‡ªğŸ‡¸ EspaÃ±ol (es)** - Espanhol

## ğŸ—ï¸ Arquitetura

### Estrutura de Arquivos
```
src/
â”œâ”€â”€ contexts/
â”‚   â””â”€â”€ LanguageContext.tsx    # Contexto de linguagem
â”œâ”€â”€ components/
â”‚   â””â”€â”€ ui/
â”‚       â””â”€â”€ LanguageSelector.tsx # Seletor de idioma
â””â”€â”€ locales/                   # Arquivos de traduÃ§Ã£o (desenvolvimento)
public/
â””â”€â”€ locales/                   # Arquivos de traduÃ§Ã£o (produÃ§Ã£o)
    â”œâ”€â”€ pt.json
    â”œâ”€â”€ en.json
    â””â”€â”€ es.json
```

### Context API
- **LanguageProvider**: Gerencia o estado global da linguagem
- **useLanguage**: Hook para acessar o contexto
- **useTranslation**: Hook simplificado para traduÃ§Ãµes

## ğŸ¯ Como Usar

### 1. Hook de TraduÃ§Ã£o
```tsx
import { useTranslation } from '@/contexts/LanguageContext'

function MyComponent() {
  const { t } = useTranslation()
  
  return <h1>{t('game.title')}</h1>
}
```

### 2. InterpolaÃ§Ã£o de VariÃ¡veis
```tsx
// No arquivo JSON
{
  "welcome": "Bem-vindo, {name}!"
}

// No componente
<p>{t('welcome', { name: 'JoÃ£o' })}</p>
// Resultado: "Bem-vindo, JoÃ£o!"
```

### 3. Seletor de Idioma
```tsx
import { LanguageSelector } from '@/components/ui/LanguageSelector'

function Header() {
  return (
    <header>
      <LanguageSelector size="md" />
    </header>
  )
}
```

## ğŸ“ Estrutura das TraduÃ§Ãµes

### OrganizaÃ§Ã£o HierÃ¡rquica
```json
{
  "common": {
    "loading": "Carregando...",
    "error": "Erro"
  },
  "game": {
    "title": "CrÃ´nicas de Altherion",
    "welcome": "Bem-vindo a Altherion"
  },
  "character": {
    "level": "NÃ­vel",
    "attributes": {
      "strength": "ForÃ§a"
    }
  }
}
```

### Chaves de TraduÃ§Ã£o
- **common**: Elementos comuns (botÃµes, mensagens)
- **game**: Textos do jogo principal
- **character**: Sistema de personagens
- **classes**: InformaÃ§Ãµes das classes
- **modal**: Textos dos modais
- **narrative**: Interface de narrativa
- **nextSteps**: SeÃ§Ã£o de prÃ³ximos passos

## ğŸ”§ Funcionalidades

### 1. DetecÃ§Ã£o AutomÃ¡tica
- Detecta idioma do navegador
- Fallback para portuguÃªs se idioma nÃ£o suportado

### 2. PersistÃªncia
- Salva idioma escolhido no localStorage
- MantÃ©m preferÃªncia entre sessÃµes

### 3. Carregamento DinÃ¢mico
- Carrega traduÃ§Ãµes sob demanda
- Fallback automÃ¡tico em caso de erro

### 4. InterpolaÃ§Ã£o
- Suporte a variÃ¡veis dinÃ¢micas
- Sintaxe: `{variableName}`

## ğŸ¨ Componente LanguageSelector

### Props
```tsx
interface LanguageSelectorProps {
  className?: string
  size?: 'sm' | 'md' | 'lg'
}
```

### CaracterÃ­sticas
- **Dropdown animado** com Framer Motion
- **Bandeiras** para identificaÃ§Ã£o visual
- **Indicador de seleÃ§Ã£o** (âœ“)
- **Responsivo** para diferentes tamanhos

## ğŸš€ Adicionando Novas Linguagens

### 1. Criar Arquivo de TraduÃ§Ã£o
```bash
# Criar arquivo para nova linguagem
touch public/locales/fr.json
```

### 2. Adicionar ao Seletor
```tsx
// Em LanguageSelector.tsx
const languages = [
  { code: 'pt' as Language, name: 'PortuguÃªs', flag: 'ğŸ‡§ğŸ‡·' },
  { code: 'en' as Language, name: 'English', flag: 'ğŸ‡ºğŸ‡¸' },
  { code: 'es' as Language, name: 'EspaÃ±ol', flag: 'ğŸ‡ªğŸ‡¸' },
  { code: 'fr' as Language, name: 'FranÃ§ais', flag: 'ğŸ‡«ğŸ‡·' } // Nova linguagem
]
```

### 3. Atualizar Tipos
```tsx
// Em LanguageContext.tsx
export type Language = 'pt' | 'en' | 'es' | 'fr'
```

## ğŸ“Š Vantagens da ImplementaÃ§Ã£o

### âœ… PrÃ³s
- **Simples de usar**: Hook `useTranslation` intuitivo
- **FlexÃ­vel**: FÃ¡cil adicionar novas linguagens
- **PerformÃ¡tico**: Carregamento sob demanda
- **Persistente**: Salva preferÃªncia do usuÃ¡rio
- **Fallback**: Sistema robusto de fallback
- **InterpolaÃ§Ã£o**: Suporte a variÃ¡veis dinÃ¢micas

### âš ï¸ ConsideraÃ§Ãµes
- **Arquivos JSON**: Precisa manter sincronizados
- **Chaves**: Estrutura hierÃ¡rquica pode ser complexa
- **Tamanho**: MÃºltiplos arquivos de traduÃ§Ã£o

## ğŸ”® Futuras Melhorias

### 1. PluralizaÃ§Ã£o
```json
{
  "items": {
    "zero": "Nenhum item",
    "one": "1 item",
    "other": "{count} itens"
  }
}
```

### 2. FormataÃ§Ã£o de Datas
```tsx
t('date', { date: new Date() })
```

### 3. Lazy Loading
```tsx
const translations = await import(`/locales/${language}.json`)
```

### 4. ValidaÃ§Ã£o de TraduÃ§Ãµes
```tsx
// Verificar se todas as chaves existem em todas as linguagens
validateTranslations()
```

## ğŸ¯ Exemplos PrÃ¡ticos

### TraduÃ§Ã£o Simples
```tsx
<h1>{t('game.title')}</h1>
```

### Com VariÃ¡veis
```tsx
<p>{t('game.welcomeAdventure', { name: character.nome })}</p>
```

### Com Fallback
```tsx
// Se a chave nÃ£o existir, retorna a prÃ³pria chave
<span>{t('chave.inexistente')}</span> // Resultado: "chave.inexistente"
```

---

**Sistema implementado com sucesso! ğŸŒâœ¨**
